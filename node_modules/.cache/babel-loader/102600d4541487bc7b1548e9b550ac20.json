{"ast":null,"code":"import React, { useState } from \"react\";\nconst symbols = [\"BTC-MOVE-09-04\", \"BTC/USD\"];\n\nconst ws_init = function (channel, markets) {\n  const ws = new WebSocket(\"wss://ftx.com/ws/\");\n\n  ws.onopen = function () {\n    for (var s of symbols) {\n      for (var c of channels) {\n        ws.send(`{\"op\": \"subscribe\", \"channel\": ${c}, \"market\": \"${s}\"}`);\n      }\n    }\n  };\n\n  ws.onclose = function () {\n    setTimeout(ws_init(), 5000);\n  };\n\n  ws.onerror = function (error) {\n    console.log(\"WS error: \" + error);\n  };\n\n  const ping = function () {\n    ws.send('{\"op\":\"ping\"}');\n  };\n\n  setInterval(ping, 10000);\n  return ws;\n};\n\nconst ws = ws_init();\nexport { ws };","map":{"version":3,"names":["React","useState","symbols","ws_init","channel","markets","ws","WebSocket","onopen","s","c","channels","send","onclose","setTimeout","onerror","error","console","log","ping","setInterval"],"sources":["/Users/alejandroballesteros/Documents/GitHub/ftx-autospreader/src/components/session.js"],"sourcesContent":["import React, { useState } from \"react\";\n\nconst symbols = [\"BTC-MOVE-09-04\", \"BTC/USD\"];\n\nconst ws_init = function (channel, markets) {\n\n  const ws = new WebSocket(\"wss://ftx.com/ws/\");\n\n  ws.onopen = function () {\n    for (var s of symbols) {\n      for (var c of channels){\n      ws.send(`{\"op\": \"subscribe\", \"channel\": ${c}, \"market\": \"${s}\"}`);\n    }\n  }\n  };\n\n  ws.onclose = function () {\n    setTimeout(ws_init(), 5000);\n  };\n\n  ws.onerror = function (error) {\n    console.log(\"WS error: \" + error);\n  };\n\n  const ping = function () {\n    ws.send('{\"op\":\"ping\"}');\n  };\n\n  setInterval(ping, 10000);\n  return ws;\n};\n\nconst ws = ws_init();\n\nexport { ws };\n"],"mappings":"AAAA,OAAOA,KAAP,IAAgBC,QAAhB,QAAgC,OAAhC;AAEA,MAAMC,OAAO,GAAG,CAAC,gBAAD,EAAmB,SAAnB,CAAhB;;AAEA,MAAMC,OAAO,GAAG,UAAUC,OAAV,EAAmBC,OAAnB,EAA4B;EAE1C,MAAMC,EAAE,GAAG,IAAIC,SAAJ,CAAc,mBAAd,CAAX;;EAEAD,EAAE,CAACE,MAAH,GAAY,YAAY;IACtB,KAAK,IAAIC,CAAT,IAAcP,OAAd,EAAuB;MACrB,KAAK,IAAIQ,CAAT,IAAcC,QAAd,EAAuB;QACvBL,EAAE,CAACM,IAAH,CAAS,kCAAiCF,CAAE,gBAAeD,CAAE,IAA7D;MACD;IACF;EACA,CAND;;EAQAH,EAAE,CAACO,OAAH,GAAa,YAAY;IACvBC,UAAU,CAACX,OAAO,EAAR,EAAY,IAAZ,CAAV;EACD,CAFD;;EAIAG,EAAE,CAACS,OAAH,GAAa,UAAUC,KAAV,EAAiB;IAC5BC,OAAO,CAACC,GAAR,CAAY,eAAeF,KAA3B;EACD,CAFD;;EAIA,MAAMG,IAAI,GAAG,YAAY;IACvBb,EAAE,CAACM,IAAH,CAAQ,eAAR;EACD,CAFD;;EAIAQ,WAAW,CAACD,IAAD,EAAO,KAAP,CAAX;EACA,OAAOb,EAAP;AACD,CA1BD;;AA4BA,MAAMA,EAAE,GAAGH,OAAO,EAAlB;AAEA,SAASG,EAAT"},"metadata":{},"sourceType":"module"}