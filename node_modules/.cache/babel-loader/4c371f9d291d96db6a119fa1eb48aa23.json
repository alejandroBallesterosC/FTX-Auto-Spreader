{"ast":null,"code":"import React, { useState } from \"react\";\nimport APIAUTH from './FTX API KEY.txt';\nconst symbols = [\"BTC-MOVE-09-04\", \"BTC/USD\"];\nconst channels = ['trades', 'orderbook'];\nlet APIKEY;\nlet APISECRET;\nfetch(APIAUTH).then(r => r.text()).then(text => {\n  APIKEY = text.substring(10, 50);\n  APISECRET = text.substring(64);\n  console.log('API Key', APIKEY, 'API Secret:', APISECRET);\n});\n\nconst ws_init = function () {\n  const ws = new WebSocket(\"wss://ftx.com/ws/\");\n\n  ws.onopen = function () {\n    for (var s of symbols) {\n      for (var c of channels) {\n        ws.send(`{\"op\": \"subscribe\", \"channel\": \"${c}\", \"market\": \"${s}\"}`);\n      }\n    }\n  };\n\n  ws.onclose = function () {\n    setTimeout(ws_init(), 5000);\n  };\n\n  ws.onerror = function (error) {\n    console.log(\"WS error: \" + error);\n  };\n\n  const ping = function () {\n    ws.send('{\"op\":\"ping\"}');\n  };\n\n  setInterval(ping, 10000);\n  return ws;\n};\n\nconst ws = ws_init();\nexport { ws };","map":{"version":3,"names":["React","useState","APIAUTH","symbols","channels","APIKEY","APISECRET","fetch","then","r","text","substring","console","log","ws_init","ws","WebSocket","onopen","s","c","send","onclose","setTimeout","onerror","error","ping","setInterval"],"sources":["/Users/alejandroballesteros/Documents/GitHub/ftx-autospreader/src/components/session.js"],"sourcesContent":["import React, { useState } from \"react\";\nimport APIAUTH from './FTX API KEY.txt';\n\nconst symbols = [\"BTC-MOVE-09-04\", \"BTC/USD\"];\nconst channels = ['trades', 'orderbook'];\n\nlet APIKEY;\nlet APISECRET;\nfetch(APIAUTH)\n  .then(r => r.text())\n  .then(text => {\n    APIKEY = text.substring(10, 50)\n    APISECRET = text.substring(64);\n    console.log('API Key', APIKEY, 'API Secret:', APISECRET);\n  });\n\n\n\nconst ws_init = function () {\n  const ws = new WebSocket(\"wss://ftx.com/ws/\");\n\n  ws.onopen = function () {\n    for (var s of symbols) {\n      for (var c of channels) {\n        ws.send(`{\"op\": \"subscribe\", \"channel\": \"${c}\", \"market\": \"${s}\"}`);\n      }\n    }\n  };\n\n  ws.onclose = function () {\n    setTimeout(ws_init(), 5000);\n  };\n\n  ws.onerror = function (error) {\n    console.log(\"WS error: \" + error);\n  };\n\n  const ping = function () {\n    ws.send('{\"op\":\"ping\"}');\n  };\n\n  setInterval(ping, 10000);\n  return ws;\n};\n\nconst ws = ws_init();\n\nexport { ws };\n"],"mappings":"AAAA,OAAOA,KAAP,IAAgBC,QAAhB,QAAgC,OAAhC;AACA,OAAOC,OAAP,MAAoB,mBAApB;AAEA,MAAMC,OAAO,GAAG,CAAC,gBAAD,EAAmB,SAAnB,CAAhB;AACA,MAAMC,QAAQ,GAAG,CAAC,QAAD,EAAW,WAAX,CAAjB;AAEA,IAAIC,MAAJ;AACA,IAAIC,SAAJ;AACAC,KAAK,CAACL,OAAD,CAAL,CACGM,IADH,CACQC,CAAC,IAAIA,CAAC,CAACC,IAAF,EADb,EAEGF,IAFH,CAEQE,IAAI,IAAI;EACZL,MAAM,GAAGK,IAAI,CAACC,SAAL,CAAe,EAAf,EAAmB,EAAnB,CAAT;EACAL,SAAS,GAAGI,IAAI,CAACC,SAAL,CAAe,EAAf,CAAZ;EACAC,OAAO,CAACC,GAAR,CAAY,SAAZ,EAAuBR,MAAvB,EAA+B,aAA/B,EAA8CC,SAA9C;AACD,CANH;;AAUA,MAAMQ,OAAO,GAAG,YAAY;EAC1B,MAAMC,EAAE,GAAG,IAAIC,SAAJ,CAAc,mBAAd,CAAX;;EAEAD,EAAE,CAACE,MAAH,GAAY,YAAY;IACtB,KAAK,IAAIC,CAAT,IAAcf,OAAd,EAAuB;MACrB,KAAK,IAAIgB,CAAT,IAAcf,QAAd,EAAwB;QACtBW,EAAE,CAACK,IAAH,CAAS,mCAAkCD,CAAE,iBAAgBD,CAAE,IAA/D;MACD;IACF;EACF,CAND;;EAQAH,EAAE,CAACM,OAAH,GAAa,YAAY;IACvBC,UAAU,CAACR,OAAO,EAAR,EAAY,IAAZ,CAAV;EACD,CAFD;;EAIAC,EAAE,CAACQ,OAAH,GAAa,UAAUC,KAAV,EAAiB;IAC5BZ,OAAO,CAACC,GAAR,CAAY,eAAeW,KAA3B;EACD,CAFD;;EAIA,MAAMC,IAAI,GAAG,YAAY;IACvBV,EAAE,CAACK,IAAH,CAAQ,eAAR;EACD,CAFD;;EAIAM,WAAW,CAACD,IAAD,EAAO,KAAP,CAAX;EACA,OAAOV,EAAP;AACD,CAzBD;;AA2BA,MAAMA,EAAE,GAAGD,OAAO,EAAlB;AAEA,SAASC,EAAT"},"metadata":{},"sourceType":"module"}