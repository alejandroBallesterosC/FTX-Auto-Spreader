{"ast":null,"code":"import React, { useState } from \"react\";\nconst symbols = [\"BTC-MOVE-09-04\", \"BTC/USD\"];\nconst ws = new Websocket(\"wss://ftx.com/ws/\");\n\nconst ws_init = function () {\n  ws = new WebSocket(\"wss://ftx.com/ws/\");\n};\n\nws.onopen = function () {\n  for (var s of symbols) {\n    ws.send(`{\"op\": \"subscribe\", \"channel\": \"trades\", \"market\": \"${s}\"}`);\n  }\n};\n\nws.onclose = function () {\n  setTimeout(ws_init(), 5000);\n};\n\nws.onerror = function (error) {\n  console.log(\"WS error: \" + error);\n};\n\nconst ping = function () {\n  ws.send('{\"op\":\"ping\"}');\n};\n\nsetInterval(ping, 10000);\nexport { ws };","map":{"version":3,"names":["React","useState","symbols","ws","Websocket","ws_init","WebSocket","onopen","s","send","onclose","setTimeout","onerror","error","console","log","ping","setInterval"],"sources":["/Users/alejandroballesteros/Documents/GitHub/ftx-autospreader/src/components/session.js"],"sourcesContent":["import React, { useState } from \"react\";\n\nconst symbols = [\"BTC-MOVE-09-04\", \"BTC/USD\"];\nconst ws = new Websocket(\"wss://ftx.com/ws/\");\n\nconst ws_init = function () {\n  ws = new WebSocket(\"wss://ftx.com/ws/\");\n};\n\nws.onopen = function () {\n  for (var s of symbols) {\n    ws.send(`{\"op\": \"subscribe\", \"channel\": \"trades\", \"market\": \"${s}\"}`);\n  }\n};\n\nws.onclose = function () {\n  setTimeout(ws_init(), 5000);\n};\n\nws.onerror = function (error) {\n  console.log(\"WS error: \" + error);\n};\n\nconst ping = function () {\n  ws.send('{\"op\":\"ping\"}');\n};\n\nsetInterval(ping, 10000);\n\nexport { ws };\n"],"mappings":"AAAA,OAAOA,KAAP,IAAgBC,QAAhB,QAAgC,OAAhC;AAEA,MAAMC,OAAO,GAAG,CAAC,gBAAD,EAAmB,SAAnB,CAAhB;AACA,MAAMC,EAAE,GAAG,IAAIC,SAAJ,CAAc,mBAAd,CAAX;;AAEA,MAAMC,OAAO,GAAG,YAAY;EAC1BF,EAAE,GAAG,IAAIG,SAAJ,CAAc,mBAAd,CAAL;AACD,CAFD;;AAIAH,EAAE,CAACI,MAAH,GAAY,YAAY;EACtB,KAAK,IAAIC,CAAT,IAAcN,OAAd,EAAuB;IACrBC,EAAE,CAACM,IAAH,CAAS,uDAAsDD,CAAE,IAAjE;EACD;AACF,CAJD;;AAMAL,EAAE,CAACO,OAAH,GAAa,YAAY;EACvBC,UAAU,CAACN,OAAO,EAAR,EAAY,IAAZ,CAAV;AACD,CAFD;;AAIAF,EAAE,CAACS,OAAH,GAAa,UAAUC,KAAV,EAAiB;EAC5BC,OAAO,CAACC,GAAR,CAAY,eAAeF,KAA3B;AACD,CAFD;;AAIA,MAAMG,IAAI,GAAG,YAAY;EACvBb,EAAE,CAACM,IAAH,CAAQ,eAAR;AACD,CAFD;;AAIAQ,WAAW,CAACD,IAAD,EAAO,KAAP,CAAX;AAEA,SAASb,EAAT"},"metadata":{},"sourceType":"module"}